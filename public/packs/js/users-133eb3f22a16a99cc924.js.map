{"version":3,"file":"js/users-133eb3f22a16a99cc924.js","mappings":"0nBAAoD,IAsBpD,EApBiB,WACb,SAAAA,EAAYC,EAAaC,I,4FAAcC,CAAA,KAAAH,GACnCI,KAAKH,YAAcA,EACnBG,KAAKF,aAAeA,EACpBE,KAAKC,aAAeC,EAAAA,EAChBF,KAAKF,aACL,CAAEK,UAAU,EAAMC,eAAgBJ,KAAKH,aAE/C,C,UASC,O,EATAD,G,EAAA,EAAAS,IAAA,WAAAC,MAED,WACI,OAAON,KAAKC,aAAaM,KAC7B,GAAC,CAAAF,IAAA,SAAAC,MAED,WAEI,OADgBJ,EAAAA,EAA4BF,KAAKC,aAAc,QAEnE,M,8EAACL,CAAC,CAjBW,GCwBjB,SAASY,IACL,IAAMC,EAAmBC,SAASC,eAAe,qBAC3CC,EAAmBF,SAASC,eAAe,qBARxBD,SACpBC,eAAe,qBACfE,cACYC,UAAUC,OAAO,SARnBL,SAASC,eAAe,oBAChCK,UAAW,EAiBlB,IAAMC,EACA,IAAIrB,EAAYgB,EAAiBN,MAAOG,EAAiBH,OAC1DW,EAAYC,WAGbT,EAAiBH,MAAQW,EAAYE,SAnChBT,SACpBC,eAAe,qBACfE,cACYC,UAAUM,IAAI,SAmC3BV,SAASW,cAAc,YA/BZX,SAASC,eAAe,oBAChCK,UAAW,EAiCtB,CAEAN,SAASY,iBAAiB,cAAc,WACpC,IAAMC,EAAOb,SAASC,eAAe,aAC/Ba,EAASd,SAASC,eAAe,oBAEnCY,GACAA,EAAKD,iBAAiB,SAAUd,GAGhCgB,GACAA,EAAOF,iBAAiB,QAASd,EAEzC,G","sources":["webpack://auction_center/./app/packs/src/mobile_phone.js","webpack://auction_center/./app/packs/entrypoints/users.js"],"sourcesContent":["import * as libphonenumber from 'libphonenumber-js';\n\nclass MobilePhone {\n    constructor(countryCode, mobileNumber) {\n        this.countryCode = countryCode;\n        this.mobileNumber = mobileNumber;\n        this.parsedNumber = libphonenumber.parseNumber(\n            this.mobileNumber,\n            { extended: true, defaultCountry: this.countryCode }\n        );\n    }\n\n    validate() {\n        return this.parsedNumber.valid;\n    }\n\n    format() {\n        let formatted = libphonenumber.formatNumber(this.parsedNumber, 'E.164');\n        return formatted;\n    };\n}\n\nexport default MobilePhone;\n","import MobilePhone from '../src/mobile_phone';\n\nfunction setMobilePhoneInvalid() {\n    const mobilePhoneField = document\n        .getElementById('user_mobile_phone')\n        .parentElement;\n    mobilePhoneField.classList.add('error');\n}\n\nfunction disableSubmitButton() {\n    const button = document.getElementById('user_form_commit');\n    button.disabled = true;\n}\n\nfunction enableSubmitButton() {\n    const button = document.getElementById('user_form_commit');\n    button.disabled = false;\n}\n\nfunction resetFields() {\n    const mobilePhoneField = document\n        .getElementById('user_mobile_phone')\n        .parentElement;\n    mobilePhoneField.classList.remove('error');\n}\n\nfunction formHandler() {\n    const mobilePhoneField = document.getElementById('user_mobile_phone');\n    const countryCodeField = document.getElementById('user_country_code');\n\n    resetFields();\n    enableSubmitButton();\n\n    const mobilePhone =\n          new MobilePhone(countryCodeField.value, mobilePhoneField.value);\n    if (!mobilePhone.validate()) {\n        setMobilePhoneInvalid();\n    } else {\n        mobilePhoneField.value = mobilePhone.format();\n    }\n\n    if (document.querySelector('.error')) {\n        disableSubmitButton();\n    }\n}\n\ndocument.addEventListener('turbo:load', function() {\n    const form = document.getElementById('user_form');\n    const button = document.getElementById('user_form_commit');\n\n    if (form) {\n        form.addEventListener('change', formHandler);\n    }\n\n    if (button) {\n        button.addEventListener('click', formHandler);\n    }\n});\n"],"names":["MobilePhone","countryCode","mobileNumber","_classCallCheck","this","parsedNumber","libphonenumber","extended","defaultCountry","key","value","valid","formHandler","mobilePhoneField","document","getElementById","countryCodeField","parentElement","classList","remove","disabled","mobilePhone","validate","format","add","querySelector","addEventListener","form","button"],"sourceRoot":""}