{"version":3,"file":"js/wishlist_items.js","mappings":";;;;;;;;;;;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA","sources":["webpack://auction_center/./app/packs/entrypoints/wishlist_items.js"],"sourcesContent":["import * as punycode from 'punycode';\n\nfunction formHandler() {\n    const domainNameField = document\n        .getElementById('wishlist_item_domain_name');\n    domainNameField.value = punycode.toUnicode(domainNameField.value);\n}\n\nfunction createListItem(string, document) {\n    const listItem = document.createElement('li');\n    listItem.innerHTML = string;\n    return listItem;\n};\n\nfunction onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n}\n\nfunction clearErrors() {\n    const container = document.getElementById('errors-list');\n\n    while (container.firstChild) {\n        container.removeChild(container.firstChild);\n    }\n}\n\ndocument.body.addEventListener('ajax:error', (event) => {\n    const xhr = event.detail[0];\n\n    const errorsBlock = document.getElementById('errors');\n    const errorsList = document.getElementById('errors-list');\n\n    const uniqueMessages = xhr.filter(onlyUnique);\n\n    uniqueMessages.forEach(function(message) {\n        const listItem = createListItem(message, document);\n        errorsList.appendChild(listItem);\n    });\n\n    errorsBlock.classList.remove('hidden');\n});\n\ndocument.addEventListener('ajax:beforeSend', (event) => {\n    const errorsBlock = document.getElementById('errors');\n    errorsBlock.classList.add('hidden');\n    clearErrors();\n});\n\ndocument.addEventListener('turbo:load', (event) => {\n    const form = document.getElementById('wishlist_item_form');\n    const button = document.getElementById('wishlist_item_form_commit');\n\n    if (form) {\n        form.addEventListener('change', formHandler);\n    }\n\n    if (button) {\n        button.addEventListener('click', formHandler);\n    }\n});\n"],"names":[],"sourceRoot":""}