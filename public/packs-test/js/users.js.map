{"version":3,"file":"js/users.js","mappings":";;;;;;;;;;;AAAA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACzDA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA","sources":["webpack://auction_center/./app/packs/entrypoints/users.js","webpack://auction_center/./app/packs/src/mobile_phone.js"],"sourcesContent":["import MobilePhone from '../src/mobile_phone';\n\nfunction setMobilePhoneInvalid() {\n    const mobilePhoneField = document\n        .getElementById('user_mobile_phone')\n        .parentElement;\n    mobilePhoneField.classList.add('error');\n}\n\nfunction disableSubmitButton() {\n    const button = document.getElementById('user_form_commit');\n    button.disabled = true;\n}\n\nfunction enableSubmitButton() {\n    const button = document.getElementById('user_form_commit');\n    button.disabled = false;\n}\n\nfunction resetFields() {\n    const mobilePhoneField = document\n        .getElementById('user_mobile_phone')\n        .parentElement;\n    mobilePhoneField.classList.remove('error');\n}\n\nfunction formHandler() {\n    const mobilePhoneField = document.getElementById('user_mobile_phone');\n    const countryCodeField = document.getElementById('user_country_code');\n\n    resetFields();\n    enableSubmitButton();\n\n    const mobilePhone =\n          new MobilePhone(countryCodeField.value, mobilePhoneField.value);\n    if (!mobilePhone.validate()) {\n        setMobilePhoneInvalid();\n    } else {\n        mobilePhoneField.value = mobilePhone.format();\n    }\n\n    if (document.querySelector('.error')) {\n        disableSubmitButton();\n    }\n}\n\ndocument.addEventListener('turbo:load', function() {\n    const form = document.getElementById('user_form');\n    const button = document.getElementById('user_form_commit');\n\n    if (form) {\n        form.addEventListener('change', formHandler);\n    }\n\n    if (button) {\n        button.addEventListener('click', formHandler);\n    }\n});\n","import * as libphonenumber from 'libphonenumber-js';\n\nclass MobilePhone {\n    constructor(countryCode, mobileNumber) {\n        this.countryCode = countryCode;\n        this.mobileNumber = mobileNumber;\n        this.parsedNumber = libphonenumber.parseNumber(\n            this.mobileNumber,\n            { extended: true, defaultCountry: this.countryCode }\n        );\n    }\n\n    validate() {\n        return this.parsedNumber.valid;\n    }\n\n    format() {\n        let formatted = libphonenumber.formatNumber(this.parsedNumber, 'E.164');\n        return formatted;\n    };\n}\n\nexport default MobilePhone;\n"],"names":[],"sourceRoot":""}